<div class="container py-5">
  <h1 class="mb-5 text-left fw-bold text-orange">My Reservations</h1>

  <% @bookings.each do |booking| %>
    <div class="van-card reservation-card mb-4">
      <div class="row g-0">
        <!-- Van Image -->
        <div class="col-md-4">
          <% if booking.van.photos.attached? %>
            <%= image_tag booking.van.photos.first, class: "img-fluid h-100 w-100 object-fit-cover rounded-start", style: "min-height: 200px;" %>
          <% else %>
            <div class="d-flex align-items-center justify-content-center bg-light text-muted rounded-start" style="height: 100%; min-height: 200px;">
              <span class="fst-italic">No image available</span>
            </div>
          <% end %>
        </div>

        <!-- Booking Details -->
        <div class="col-md-8 d-flex flex-column justify-content-between">
          <div class="card-body p-4">
            <h5 class="card-title fw-bold mb-3 text-orange">
              <i class="bi bi-truck-front me-2"></i><%= booking.van.title %>
            </h5>

            <p class="card-text mb-3">
              <i class="bi bi-calendar-range me-2 text-orange"></i>
                <strong>From:</strong> <%= booking.start_date.strftime("%d %B %Y") %><br>
                <strong>To:</strong> <%= booking.end_date.strftime("%d %B %Y") %>
            </p>

            <p class="card-text text-muted fst-italic"><%= truncate(booking.van.description, length: 100) %></p>
          </div>

          <div class="px-4 pb-4 text-end">
            <%= link_to "View Van", van_path(booking.van), class: "btn btn-primary-cta" %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
